{% from "macros/pagination.htm" import render_pagination %}
{% from "macros/form.htm" import render_select %}

{% extends "base.htm" %}

{% block includes %}
<script src="{{ static_url('/static/js/examination/create_course.js') }}"></script>
{% endblock %}

{% block page %}
    <fieldset>
        <legend>{{_('New examination')}}</legend>

        <form action="" method=post enctype=multipart/form-data>
            <div class='form-group'>
                {{_('Date')}}
                <input type='text' name='title' placeholder='DD-MM-YY' class='form-control' value='{{exam_title}}' />
            </div>

            <div class='form-group'>
                {{_('Course')}}</br>
                <select name='course' class='form-control courses'>
                    {% for course in courses %}
                        <option value='{{ course.id }}' {% if course.id == course_id %}selected{% endif %}>
                        {{ course.name }}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div class='form-group'>
                {{_('Examination kind')}}
                <select name='test_type' class='form-control examination kind'>
                    {% for type_key, type_name in test_types.items() %}
                        <option value="{{ type_key }}" {% if type_key == test_type %}selected="selected"{% endif %}>
                            {{type_name}}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div class='form-group'>
                <strong>{{_('New course')}}</strong>
                <input class='new-course-name inline-field form-control' type='text' />
                <button class='new-course-btn btn btn-default' data-loading-text='BITTE WARTEN!'>Toevoegen</button>
            </div>

            <div class='form-group'>
                Studie
                <select name='education' class='form-control educations'>
                    {% for education in educations %}
                        <option value='{{ education.id }}' {% if education.id == education_id %}selected{% endif %}>
                        {{ education.name }}
                        </option>
                    {% endfor %}
                </select>
            </div>

            <div class='form-group'>
                <strong>{{_('New education') }}</strong>
                <input class='new-education-name inline-field form-control' type='text' />
                <!-- Hidden because only one option? Hidden because maybe would not work when removed -->
                <select class='new-education-degree inline-field form-control hidden'>
                    {% for degree in degrees %}
                        <option value='{{ degree.id }}'>{{ degree.name }}</option>
                    {% endfor %}
                </select>

                <button class='new-education-btn btn btn-default' data-loading-text='BITTE WARTEN!'>Toevoegen</button>
            </div>

            <div class='form-group'>
                {{_('Examination')}}
                <input type='file' name='file' class='form-control'>
            </div>

            <div class='form-group'>
                {{_('Answers')}}
                <input type='file' name='answers' class='form-control'>
            </div>

            <input type='submit' value='Upload' class='btn btn-primary'>

        </form>
    </fieldset>
{% endblock %}
